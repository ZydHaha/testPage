<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·±åº¦æŠ¥å‘Šï¼šæ‰‹æœºæ¢æœºå‘¨æœŸä¸æŒæœ‰æˆæœ¬å†³ç­–åˆ†æ</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Custom Font: Noto Sans SC (Simulated via system fonts for performance) -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Microsoft YaHei", sans-serif;
            background-color: #f5f5f4; /* Warm neutral background (stone-100) */
            color: #1c1917; /* stone-900 */
        }

        /* Custom Scrollbar for clean look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e; 
        }

        /* Chart Container Specifics */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px; /* Constrain width on large screens */
            height: 350px;    /* Base height */
            margin: 0 auto;   /* Center horizontally */
        }
        
        @media (max-width: 640px) {
            .chart-container {
                height: 300px; /* Slightly smaller on mobile */
            }
        }

        /* Smooth Transitions */
        .transition-all-300 {
            transition: all 0.3s ease-in-out;
        }

        /* Card Hover Effects */
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>

    <!-- Chosen Palette: Warm Neutrals with functional accents -->
    <!-- Primary Background: Stone-50 (#f5f5f4) -->
    <!-- Text: Stone-800 (#292524) -->
    <!-- Accent 1 (Sub-Flagship): Amber-500 (Value) -->
    <!-- Accent 2 (Apple): Zinc-700 (Premium/Stable) -->
    <!-- Accent 3 (Android Flagship): Blue-600 (Tech) -->

    <!-- Application Structure Plan:
         1. Hero Section: Executive Summary of the "New Market Pattern" (Price drops & Thresholds).
         2. Key Metrics Dashboard: 3 Cards highlighting the 3 main strategies derived from the report.
         3. Interactive Analysis:
            - Tab 1: Annual Cost Bar Chart (The core comparison).
            - Tab 2: Depreciation Curve (Visualizing the "Cliff" and "Zero Threshold").
         4. Decision Matrix: Clickable Personas (Money Saver, Balanced, Techie) that filter/highlight recommendations.
         5. Data Table: The raw numbers for transparency.
         Rationale: Users first need the "So what?", then the visual proof, then a personalized recommendation.
    -->
</head>
<body class="bg-stone-50 text-stone-800 antialiased selection:bg-stone-300">

    <!-- Navbar -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-3">
                    <i class="fa-solid fa-scale-balanced text-amber-600 text-2xl"></i>
                    <span class="font-bold text-xl tracking-tight text-stone-900">æ¢æœºå†³ç­–åŠ©æ‰‹ <span class="text-xs font-normal text-stone-500 hidden sm:inline-block">åŸºäº2025æ·±åº¦æŠ¥å‘Š</span></span>
                </div>
                <div class="hidden md:flex space-x-8 text-sm font-medium text-stone-500">
                    <a href="#summary" class="hover:text-stone-900 transition-colors">æ ¸å¿ƒç»“è®º</a>
                    <a href="#analysis" class="hover:text-stone-900 transition-colors">æˆæœ¬åˆ†æ</a>
                    <a href="#matrix" class="hover:text-stone-900 transition-colors">å†³ç­–çŸ©é˜µ</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12">

        <!-- Section 1: Introduction & Context -->
        <section id="summary" class="animate-fade-in-up">
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-stone-100">
                <h1 class="text-2xl font-bold mb-4 flex items-center gap-2">
                    <i class="fa-solid fa-bullseye text-red-500"></i> 
                    å¸‚åœºæ–°æ ¼å±€ï¼šæ®‹å€¼é—¨æ§›ä¸‹è°ƒè‡³ Â¥200
                </h1>
                <p class="text-stone-600 leading-relaxed mb-6">
                    æœ¬åˆ†ææ¨¡å‹åŸºäºæœ€æ–°å¸‚åœºè°ƒç ”ï¼Œå°†å®‰å“æ——èˆ°æœºå‹ä»·æ ¼è®¾å®šä¸º <strong>Â¥5000</strong>ï¼Œæ¬¡æ——èˆ°ä¸º <strong>Â¥4000</strong>ã€‚
                    å…³é”®å˜é‡è°ƒæ•´ï¼šå½“äºŒæ‰‹å›æ”¶ä»·ä½äº <strong>Â¥200</strong> æ—¶ï¼Œè§†ä¸ºâ€œæœ‰æ•ˆæ®‹å€¼å½’é›¶â€ï¼ˆç”µå­åƒåœ¾ï¼‰ã€‚
                    è¿™ä¸€å¾®å°çš„è°ƒæ•´å½»åº•æ”¹å˜äº†æ€§ä»·æ¯”æ’åã€‚
                </p>

                <!-- 3 Key Conclusions Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Card 1: Sub-Flagship -->
                    <div class="bg-amber-50 rounded-xl p-5 border-l-4 border-amber-500 hover-lift transition-all-300 cursor-pointer" onclick="scrollToSection('matrix')">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-bold text-amber-900">æ¬¡æ——èˆ°çš„ç»å¯¹ç»Ÿæ²»</h3>
                            <i class="fa-solid fa-crown text-amber-500 text-xl"></i>
                        </div>
                        <div class="text-3xl font-extrabold text-amber-700 mb-1">Â¥925<span class="text-sm font-normal text-amber-800">/å¹´</span></div>
                        <p class="text-sm text-amber-800 opacity-80">ç­–ç•¥ï¼šåšæŒç”¨æ»¡ 4 å¹´</p>
                        <p class="text-xs text-amber-900 mt-2 font-medium">å…¨åœºå”¯ä¸€è·Œç ´åƒå…ƒçš„æ–¹æ¡ˆ</p>
                    </div>

                    <!-- Card 2: Apple -->
                    <div class="bg-stone-100 rounded-xl p-5 border-l-4 border-stone-600 hover-lift transition-all-300 cursor-pointer" onclick="scrollToSection('matrix')">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-bold text-stone-900">è‹¹æœæ ‡å‡†ç‰ˆå®šä½</h3>
                            <i class="fa-brands fa-apple text-stone-700 text-xl"></i>
                        </div>
                        <div class="text-3xl font-extrabold text-stone-800 mb-1">Â¥1100<span class="text-sm font-normal text-stone-500">/å¹´</span></div>
                        <p class="text-sm text-stone-600 opacity-80">ç­–ç•¥ï¼š4 å¹´ä¸€æ¢</p>
                        <p class="text-xs text-stone-700 mt-2 font-medium">ä½“éªŒä¸æˆæœ¬çš„å¹³è¡¡æ ‡æ†</p>
                    </div>

                    <!-- Card 3: Android Flagship -->
                    <div class="bg-blue-50 rounded-xl p-5 border-l-4 border-blue-500 hover-lift transition-all-300 cursor-pointer" onclick="scrollToSection('matrix')">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-bold text-blue-900">å®‰å“æ——èˆ°å›å½’</h3>
                            <i class="fa-brands fa-android text-blue-500 text-xl"></i>
                        </div>
                        <div class="text-3xl font-extrabold text-blue-700 mb-1">Â¥1150<span class="text-sm font-normal text-blue-800">/å¹´</span></div>
                        <p class="text-sm text-blue-800 opacity-80">ç­–ç•¥ï¼š4 å¹´ä¸€æ¢</p>
                        <p class="text-xs text-blue-900 mt-2 font-medium">ä»…æ¯”è‹¹æœè´µ Â¥50/å¹´</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Visual Analysis (Charts) -->
        <section id="analysis">
            <div class="flex flex-col md:flex-row justify-between items-end mb-4">
                <div>
                    <h2 class="text-2xl font-bold text-stone-800">æ·±åº¦æ•°æ®å¯è§†åŒ–</h2>
                    <p class="text-stone-500 mt-1">
                        é€šè¿‡é‡åŒ–æ¨¡å‹å¯¹æ¯”ä¸åŒå‘¨æœŸçš„æŒæœ‰æˆæœ¬ã€‚è¯·æ³¨æ„â€œ4å¹´â€æ˜¯å…³é”®çš„åˆ†æ°´å²­ã€‚
                    </p>
                </div>
                <!-- Interactive Toggles -->
                <div class="bg-white p-1 rounded-lg border border-stone-200 mt-4 md:mt-0 flex text-sm">
                    <button id="btn-cost" class="px-4 py-2 rounded-md bg-stone-800 text-white shadow-sm font-medium transition-all" onclick="switchChart('cost')">
                        å¹´å‡æˆæœ¬å¯¹æ¯”
                    </button>
                    <button id="btn-depreciation" class="px-4 py-2 rounded-md text-stone-600 hover:bg-stone-100 font-medium transition-all" onclick="switchChart('depreciation')">
                        æ®‹å€¼è¡°å‡æ›²çº¿
                    </button>
                </div>
            </div>

            <div class="bg-white rounded-2xl shadow-sm border border-stone-200 p-6">
                <!-- Chart Container -->
                <div class="chart-container">
                    <canvas id="mainChart"></canvas>
                </div>
                
                <!-- Dynamic Insight Text Based on Chart -->
                <div id="chart-insight" class="mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200 text-sm text-yellow-800 flex items-start gap-3">
                    <i class="fa-regular fa-lightbulb mt-1 text-yellow-600"></i>
                    <div>
                        <strong>æ ¸å¿ƒæ´å¯Ÿï¼š</strong> 
                        <span id="insight-text">æ¬¡æ——èˆ°åœ¨ç¬¬4å¹´çš„å¹´å‡æˆæœ¬æœ€ä½ï¼ˆÂ¥925ï¼‰ï¼Œå› ä¸ºè™½ç„¶æ­¤æ—¶æ®‹å€¼ä»…å‰©Â¥300ï¼Œä½†ç”±äºè´­æœºæˆæœ¬ä½ï¼ˆÂ¥4000ï¼‰ä¸”åˆ†æ‘Šå¹´é™é•¿ï¼Œæ€§ä»·æ¯”åè¶…è‹¹æœã€‚</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Decision Matrix (Interactive Personas) -->
        <section id="matrix">
            <h2 class="text-2xl font-bold text-stone-800 mb-6">å†³ç­–çŸ©é˜µï¼šæ‚¨æ˜¯å“ªç±»ç”¨æˆ·ï¼Ÿ</h2>
            <p class="text-stone-500 mb-6">ç‚¹å‡»ä¸‹æ–¹å¡ç‰‡ï¼ŒæŸ¥çœ‹ä¸ºæ‚¨é‡èº«å®šåˆ¶çš„è´­ä¹°å»ºè®®ã€‚</p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Persona 1 -->
                <div class="persona-card group bg-white border border-stone-200 rounded-xl overflow-hidden hover:shadow-lg transition-all cursor-pointer relative" onclick="selectPersona('saver')">
                    <div class="h-2 bg-amber-500"></div>
                    <div class="p-6">
                        <div class="w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4 text-amber-600 text-xl group-hover:scale-110 transition-transform">
                            <i class="fa-solid fa-piggy-bank"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">æè‡´çœé’±æµ</h3>
                        <p class="text-sm text-stone-500 mb-4">å¯¹æ‰‹æœºæ€§èƒ½è¦æ±‚ä¸é«˜ï¼Œåªæ±‚èƒ½ç”¨ã€ä¾¿å®œï¼Œæ„¿æ„å¿å—ç¬¬4å¹´çš„è½»å¾®å¡é¡¿ã€‚</p>
                        <div class="persona-content hidden text-sm mt-4 pt-4 border-t border-stone-100 animate-fade-in">
                            <p class="font-bold text-amber-600 mb-1">æ¨èæ–¹æ¡ˆï¼šæ¬¡æ——èˆ° (Â¥4000)</p>
                            <p class="mb-2"><strong>æŒæœ‰å‘¨æœŸï¼š4å¹´</strong></p>
                            <p class="text-stone-600">åˆ©ç”¨ç¬¬4å¹´ä»æœ‰çš„300å…ƒæ®‹å€¼ï¼ˆ>200å…ƒé—¨æ§›ï¼‰ï¼Œæœ€å¤§é™åº¦æ‘Šè–„æœ¬é‡‘ã€‚è¿™æ˜¯å…¨åœºæœ€ä½æˆæœ¬æ–¹æ¡ˆã€‚</p>
                        </div>
                        <div class="absolute bottom-4 right-4 text-stone-300 group-hover:text-amber-500 transition-colors">
                            <i class="fa-solid fa-circle-chevron-down"></i>
                        </div>
                    </div>
                </div>

                <!-- Persona 2 -->
                <div class="persona-card group bg-white border border-stone-200 rounded-xl overflow-hidden hover:shadow-lg transition-all cursor-pointer relative" onclick="selectPersona('balanced')">
                    <div class="h-2 bg-stone-700"></div>
                    <div class="p-6">
                        <div class="w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center mb-4 text-stone-700 text-xl group-hover:scale-110 transition-transform">
                            <i class="fa-solid fa-scale-unbalanced"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">å‡è¡¡ä½“éªŒæµ</h3>
                        <p class="text-sm text-stone-500 mb-4">è¿½æ±‚çœå¿ƒã€ç³»ç»Ÿæµç•…å’Œè‰¯å¥½çš„äºŒæ‰‹å›è¡€èƒ½åŠ›ï¼Œä¸æƒ³é¢‘ç¹å€’è…¾æ•°æ®ã€‚</p>
                        <div class="persona-content hidden text-sm mt-4 pt-4 border-t border-stone-100 animate-fade-in">
                            <p class="font-bold text-stone-800 mb-1">æ¨èæ–¹æ¡ˆï¼šiPhone æ ‡å‡†ç‰ˆ (Â¥5500)</p>
                            <p class="mb-2"><strong>æŒæœ‰å‘¨æœŸï¼š4å¹´</strong></p>
                            <p class="text-stone-600">æˆæœ¬ä»…æ¯”çœé’±æµé«˜ Â¥175/å¹´ï¼Œä½†æ¢æ¥äº†iOSç”Ÿæ€å’Œè§†é¢‘æ‹æ‘„ä¼˜åŠ¿ã€‚è¿›å¯æ”»ï¼ˆå–1100å›è¡€ï¼‰ï¼Œé€€å¯å®ˆï¼ˆç”¨ç¬¬5å¹´ï¼‰ã€‚</p>
                        </div>
                        <div class="absolute bottom-4 right-4 text-stone-300 group-hover:text-stone-700 transition-colors">
                            <i class="fa-solid fa-circle-chevron-down"></i>
                        </div>
                    </div>
                </div>

                <!-- Persona 3 -->
                <div class="persona-card group bg-white border border-stone-200 rounded-xl overflow-hidden hover:shadow-lg transition-all cursor-pointer relative" onclick="selectPersona('techie')">
                    <div class="h-2 bg-blue-600"></div>
                    <div class="p-6">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4 text-blue-600 text-xl group-hover:scale-110 transition-transform">
                            <i class="fa-solid fa-camera"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">æ——èˆ°äº«å—æµ</h3>
                        <p class="text-sm text-stone-500 mb-4">æ‘„å½±çˆ±å¥½è€…ã€æå®¢ã€‚çœ‹é‡é¡¶çº§å±å¹•å’Œé•¿ç„¦é•œå¤´ï¼Œæ„¿æ„ä¸ºæ­¤æ”¯ä»˜åˆç†æº¢ä»·ã€‚</p>
                        <div class="persona-content hidden text-sm mt-4 pt-4 border-t border-stone-100 animate-fade-in">
                            <p class="font-bold text-blue-600 mb-1">æ¨èæ–¹æ¡ˆï¼šå®‰å“æ——èˆ° (Â¥5000)</p>
                            <p class="mb-2"><strong>æŒæœ‰å‘¨æœŸï¼š4å¹´</strong></p>
                            <p class="text-stone-600">é™ä»·åæ€§ä»·æ¯”å¤§å¢ã€‚åªè¦åšæŒç”¨æ»¡4å¹´ï¼Œå¹´å‡æˆæœ¬ï¼ˆÂ¥1150ï¼‰ä»…æ¯”iPhoneè´µ50å…ƒï¼Œå®Œå…¨å€¼å¾—ã€‚</p>
                        </div>
                        <div class="absolute bottom-4 right-4 text-stone-300 group-hover:text-blue-600 transition-colors">
                            <i class="fa-solid fa-circle-chevron-down"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Raw Data & Assumptions -->
        <section class="border-t border-stone-200 pt-8">
            <button onclick="toggleData()" class="flex items-center gap-2 text-stone-500 hover:text-stone-800 text-sm font-medium transition-colors">
                <i class="fa-solid fa-table"></i> æŸ¥çœ‹è¯¦ç»†è®¡ç®—æ•°æ®
                <i id="table-arrow" class="fa-solid fa-chevron-down text-xs transition-transform"></i>
            </button>
            
            <div id="data-table" class="hidden mt-4 overflow-x-auto">
                <table class="min-w-full text-sm text-left text-stone-600 bg-white rounded-lg border border-stone-200">
                    <thead class="text-xs text-stone-700 uppercase bg-stone-50 border-b border-stone-200">
                        <tr>
                            <th class="px-6 py-3">æœºå‹</th>
                            <th class="px-6 py-3">è´­å…¥ä»·</th>
                            <th class="px-6 py-3">3å¹´æ®‹å€¼/æˆæœ¬</th>
                            <th class="px-6 py-3 bg-stone-100 font-bold">4å¹´æ®‹å€¼/æˆæœ¬ (æ¨è)</th>
                            <th class="px-6 py-3">5å¹´æ®‹å€¼/æˆæœ¬</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="bg-white border-b hover:bg-stone-50">
                            <td class="px-6 py-4 font-bold text-amber-600">æ¬¡æ——èˆ° (æ ‡å‡†ç‰ˆ)</td>
                            <td class="px-6 py-4">Â¥4000</td>
                            <td class="px-6 py-4">Â¥500 (Â¥1167/å¹´)</td>
                            <td class="px-6 py-4 bg-amber-50 font-bold text-amber-700">Â¥300 (Â¥925/å¹´)</td>
                            <td class="px-6 py-4 text-stone-400">Â¥0 (Â¥800/å¹´*)<br><span class="text-xs">ä½“éªŒæå·®</span></td>
                        </tr>
                        <tr class="bg-white border-b hover:bg-stone-50">
                            <td class="px-6 py-4 font-bold text-stone-800">è‹¹æœæ ‡å‡†ç‰ˆ</td>
                            <td class="px-6 py-4">Â¥5500</td>
                            <td class="px-6 py-4">Â¥1600 (Â¥1300/å¹´)</td>
                            <td class="px-6 py-4 bg-stone-100 font-bold text-stone-800">Â¥1100 (Â¥1100/å¹´)</td>
                            <td class="px-6 py-4">Â¥700 (Â¥960/å¹´)</td>
                        </tr>
                        <tr class="bg-white hover:bg-stone-50">
                            <td class="px-6 py-4 font-bold text-blue-600">å®‰å“æ——èˆ°</td>
                            <td class="px-6 py-4">Â¥5000</td>
                            <td class="px-6 py-4">Â¥800 (Â¥1400/å¹´)</td>
                            <td class="px-6 py-4 bg-blue-50 font-bold text-blue-700">Â¥400 (Â¥1150/å¹´)</td>
                            <td class="px-6 py-4 text-stone-400">Â¥0 (Â¥1000/å¹´)<br><span class="text-xs">æ®‹å€¼å½’é›¶</span></td>
                        </tr>
                    </tbody>
                </table>
                <p class="text-xs text-stone-400 mt-2">*æ³¨ï¼šæ®‹å€¼ä½äº Â¥200 æ—¶è§†ä¸º Â¥0 è®¡ç®—ã€‚</p>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-stone-200 mt-12 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center text-stone-400 text-sm">
            <p>&copy; 2025 æ¢æœºå†³ç­–åŠ©æ‰‹ | åŸºäºæ·±åº¦å¸‚åœºè°ƒç ”æŠ¥å‘Šç”Ÿæˆ</p>
        </div>
    </footer>

    <!-- Logic Script -->
    <script>
        // Data derived directly from the source report
        const reportData = {
            threshold: 200,
            phones: [
                {
                    id: 'sub',
                    name: 'æ¬¡æ——èˆ° (4k)',
                    price: 4000,
                    color: 'rgba(245, 158, 11, 0.8)', // Amber
                    borderColor: 'rgba(245, 158, 11, 1)',
                    residuals: [null, null, null, 500, 300, 0], // Index corresponds to year 0-5. 0 is current.
                    costs: { 3: 1167, 4: 925, 5: 1000 } // Calculated annual costs
                },
                {
                    id: 'apple',
                    name: 'è‹¹æœæ ‡å‡†ç‰ˆ (5.5k)',
                    price: 5500,
                    color: 'rgba(68, 64, 60, 0.8)', // Stone-700
                    borderColor: 'rgba(68, 64, 60, 1)',
                    residuals: [null, null, null, 1600, 1100, 700],
                    costs: { 3: 1300, 4: 1100, 5: 960 }
                },
                {
                    id: 'android',
                    name: 'å®‰å“æ——èˆ° (5k)',
                    price: 5000,
                    color: 'rgba(37, 99, 235, 0.8)', // Blue-600
                    borderColor: 'rgba(37, 99, 235, 1)',
                    residuals: [null, null, null, 800, 400, 0], // Year 5 is <100 so 0
                    costs: { 3: 1400, 4: 1150, 5: 1000 }
                }
            ]
        };

        let currentChart = null;

        // --- Chart 1: Annualized Cost Comparison (Bar) ---
        function renderCostChart() {
            const ctx = document.getElementById('mainChart').getContext('2d');
            
            if (currentChart) currentChart.destroy();

            currentChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['3å¹´ä¸€æ¢', '4å¹´ä¸€æ¢ (æ¨è)', '5å¹´ä¸€æ¢'],
                    datasets: reportData.phones.map(phone => ({
                        label: phone.name,
                        data: [phone.costs[3], phone.costs[4], phone.costs[5]],
                        backgroundColor: phone.color,
                        borderColor: phone.borderColor,
                        borderWidth: 1,
                        borderRadius: 4
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': Â¥' + context.raw + '/å¹´';
                                },
                                afterLabel: function(context) {
                                    if(context.label.includes('4å¹´') && context.dataset.label.includes('æ¬¡æ——èˆ°')) {
                                        return 'ğŸ† å…¨åœºæœ€ä½æˆæœ¬';
                                    }
                                }
                            }
                        },
                        annotation: {
                            // Note: Simple Chart.js CDN doesn't include annotation plugin by default, 
                            // strictly sticking to core Chart.js as per requirements.
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 800,
                            title: { display: true, text: 'å¹´å‡æŒæœ‰æˆæœ¬ (å…ƒ)' }
                        }
                    }
                }
            });

            // Update Insight Text
            document.getElementById('insight-text').innerHTML = `
                <strong>æ¬¡æ——èˆ° (4å¹´ä¸€æ¢)</strong> ç¡®ç«‹äº†æ€§ä»·æ¯”éœ¸ä¸»åœ°ä½ï¼ˆÂ¥925/å¹´ï¼‰ã€‚
                è™½ç„¶æ­¤æ—¶æ®‹å€¼ä»…å‰© Â¥300ï¼Œä½†ç”±äºè´­æœºé—¨æ§›ä½ï¼Œå…¶æ‘Šè–„æ•ˆåº”å‡»è´¥äº†è‹¹æœçš„5å¹´æ–¹æ¡ˆï¼ˆÂ¥960/å¹´ï¼‰ã€‚
                æ³¨æ„ï¼šå®‰å“æ——èˆ°åœ¨ç¬¬4å¹´çš„æˆæœ¬å·²é™è‡³ Â¥1150ï¼Œè¿›å…¥åˆç†åŒºé—´ã€‚
            `;
        }

        // --- Chart 2: Depreciation Curve (Line) ---
        function renderDepreciationChart() {
            const ctx = document.getElementById('mainChart').getContext('2d');
            
            if (currentChart) currentChart.destroy();

            // Prepare data points (Start Price -> Y3 -> Y4 -> Y5)
            // We need to interpolate Y1/Y2 roughly for visual smoothness or just plot known points
            // For this visualization, we plot Year 0, 3, 4, 5.
            const labels = ['è´­å…¥', 'ç¬¬3å¹´', 'ç¬¬4å¹´', 'ç¬¬5å¹´'];
            
            currentChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: reportData.phones.map(phone => ({
                        label: phone.name,
                        data: [phone.price, phone.residuals[3], phone.residuals[4], phone.residuals[5]],
                        borderColor: phone.borderColor,
                        backgroundColor: phone.color,
                        borderWidth: 2,
                        tension: 0.1,
                        pointRadius: 5,
                        pointHoverRadius: 7
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let val = context.raw;
                                    let note = '';
                                    if (val < 200 && val > 0) note = ' (å½’é›¶)';
                                    if (val === 0) note = ' (å½’é›¶)';
                                    return context.dataset.label + ': Â¥' + val + note;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'æ‰‹æœºå‰©ä½™ä»·å€¼ (å…ƒ)' },
                            grid: {
                                color: (context) => context.tick.value === 200 ? 'rgba(239, 68, 68, 0.5)' : 'rgba(0, 0, 0, 0.1)',
                                lineWidth: (context) => context.tick.value === 200 ? 2 : 1,
                            }
                        }
                    }
                }
            });

             // Update Insight Text
             document.getElementById('insight-text').innerHTML = `
                <span class="text-red-600 font-bold">çº¢çº¿è­¦ç¤ºï¼š</span> å›¾è¡¨ä¸­ Â¥200 å¤„ä¸ºâ€œç”µå­åƒåœ¾â€é—¨æ§›ã€‚
                å¯ä»¥çœ‹åˆ°<strong>æ¬¡æ——èˆ°</strong>åœ¨ç¬¬4å¹´å‹‰å¼ºå®ˆä½ Â¥300 å…³å£ï¼Œè¿™æ˜¯å®ƒèƒ½ä¿æŒä½æˆæœ¬çš„å…³é”®ã€‚
                ä¸€æ—¦è·Œç ´æ­¤çº¿ï¼ˆå¦‚ç¬¬5å¹´ï¼‰ï¼Œæœ‰æ•ˆå›è¡€èƒ½åŠ›å½’é›¶ã€‚
            `;
        }

        // --- UI Interactions ---

        function switchChart(type) {
            // Update Buttons
            const btnCost = document.getElementById('btn-cost');
            const btnDep = document.getElementById('btn-depreciation');
            
            if (type === 'cost') {
                btnCost.className = "px-4 py-2 rounded-md bg-stone-800 text-white shadow-sm font-medium transition-all";
                btnDep.className = "px-4 py-2 rounded-md text-stone-600 hover:bg-stone-100 font-medium transition-all";
                renderCostChart();
            } else {
                btnCost.className = "px-4 py-2 rounded-md text-stone-600 hover:bg-stone-100 font-medium transition-all";
                btnDep.className = "px-4 py-2 rounded-md bg-stone-800 text-white shadow-sm font-medium transition-all";
                renderDepreciationChart();
            }
        }

        function selectPersona(type) {
            // Reset all cards
            document.querySelectorAll('.persona-card').forEach(card => {
                card.classList.remove('ring-2', 'ring-offset-2');
                // Use DOM traversal to find content div
                const content = card.querySelector('.persona-content');
                content.classList.add('hidden');
            });

            // Activate selected
            let activeCard;
            let ringColor;
            
            if (type === 'saver') {
                activeCard = document.querySelectorAll('.persona-card')[0];
                ringColor = 'ring-amber-500';
            } else if (type === 'balanced') {
                activeCard = document.querySelectorAll('.persona-card')[1];
                ringColor = 'ring-stone-700';
            } else {
                activeCard = document.querySelectorAll('.persona-card')[2];
                ringColor = 'ring-blue-600';
            }

            activeCard.classList.add('ring-2', 'ring-offset-2', ringColor);
            activeCard.querySelector('.persona-content').classList.remove('hidden');
        }

        function toggleData() {
            const table = document.getElementById('data-table');
            const arrow = document.getElementById('table-arrow');
            
            if (table.classList.contains('hidden')) {
                table.classList.remove('hidden');
                table.classList.add('animate-fade-in');
                arrow.classList.remove('fa-chevron-down');
                arrow.classList.add('fa-chevron-up');
            } else {
                table.classList.add('hidden');
                arrow.classList.remove('fa-chevron-up');
                arrow.classList.add('fa-chevron-down');
            }
        }

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // Initialization
        window.addEventListener('DOMContentLoaded', () => {
            renderCostChart();
            
            // Add fade-in animation styles
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeInUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in-up {
                    animation: fadeInUp 0.6s ease-out forwards;
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                .animate-fade-in {
                    animation: fadeIn 0.4s ease-out forwards;
                }
            `;
            document.head.appendChild(style);
        });

    </script>
    
    <!-- Visualization & Content Choices:
        1. Viz: Grouped Bar Chart (Chart.js)
           Goal: Compare annual costs directly across the three main timeframes (3, 4, 5 years).
           Interaction: Hover tooltips with custom labels (e.g., "Lowest Cost").
           Justification: Bar charts are the clearest way to compare discrete financial values side-by-side.

        2. Viz: Line Chart (Depreciation Simulator)
           Goal: Visualize the speed of value loss and the "200 RMB Threshold".
           Interaction: Toggle button to switch views.
           Justification: Shows the "cliff" effect of depreciation, especially for Android models.

        3. Content: Persona Cards
           Goal: Translate raw numbers into actionable advice for specific user types.
           Interaction: Click to expand details.
           Justification: Users identify with needs (saving money vs. tech specs) more than raw numbers.
    -->
    
    <!-- CONFIRMATION: NO SVG graphics used (FontAwesome used). NO Mermaid JS used. -->
</body>
</html>
